---
import Logo from '../components/Logo.astro';

const navItems = [
    { linkText: 'Über Mein Ginger', href: '/#about', ariaLabel: 'Zur "Über Mein Ginger" Sektion' },
    { linkText: 'Zutaten', href: '/#ingredients', ariaLabel: 'Zur Zutaten-Sektion' },
    { linkText: 'Varianten', href: '/#variants', ariaLabel: 'Zu den Varianten von Mein Ginger' },
    { linkText: 'Wo kaufen?', href: '/#retailers', ariaLabel: 'Wo man Mein Ginger kaufen kann' }
];
---

<nav class="sticky-nav flex flex-wrap items-center gap-4 pb-2 px-6 sm:px-12" aria-label="Hauptnavigation">
    <a href="/" aria-label="Mein Ginger - Zur Startseite">
        <Logo />
    </a>
    {
        !!navItems?.length && (
            <ul class="flex flex-wrap gap-x-4 gap-y-1" role="list">
                {navItems.map((item) => (
                    <li role="listitem">
                        <a href={item.href} class="inline-block px-1.5 py-1 sm:px-3 sm:py-2 nav-link" aria-label={item.ariaLabel}>
                            {item.linkText}
                        </a>
                    </li>
                ))}
            </ul>
        )
    }
</nav>

<style>
    @import 'tailwindcss';

    .sticky-nav {
        @apply pt-6;

        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        transition: all 0.3s ease;
    }

    .nav-link {
        color: black;
        transition: color 0.3s ease;
    }

    .sticky-nav.scrolled {
        @apply pt-2;
    }
</style>

<script>
    const nav = document.querySelector('.sticky-nav');

    if (nav) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 0) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });
    }
</script>
