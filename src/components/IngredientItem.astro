---
import Icon from './Icon.astro';

interface Props {
    isHighlight?: boolean;
    image?: string;
    imageLeft?: string;
    imageRight?: string;
    label?: string;
    title: string;
    description: string;
    classList?: string[];
}

const { isHighlight, image, imageLeft, imageRight, label, title, description, classList } = Astro.props;
---

<div class:list={['ingredient', 'animate-on-hover', isHighlight ? 'highlight' : '', classList]} role={isHighlight ? null : 'listitem'}>
    <div class="content">
        {
            image && (
                <div class="ingredient-icon">
                    <img src={image} alt={title} />
                </div>
            )
        }
        {
            label && (
                <span class="ingredient-percent highlight-gradient" aria-label={`${label} Prozent`}>
                    {label}
                </span>
            )
        }
        <h3>{title}</h3>
        <p>{description}</p>
    </div>
    {isHighlight && imageLeft && <img class="image-left" src={imageLeft} alt={title} />}
    {isHighlight && imageRight && <img class="image-right" src={imageRight} alt={title} />}
</div>

<style>
    .ingredient {
        padding: 1.5rem;
        background: linear-gradient(135deg, #faf8f3 0%, #f5f0e8 100%);
        border-left: 4px solid var(--color-primary-punch);
        border-radius: 8px;
    }
    .highlight {
        border-width: 4px;
        border-color: var(--color-primary-punch);
        margin-block-end: 2rem;
        display: grid;
        align-items: center;

        .content {
            grid-column-start: 1;
            grid-column-end: 3;
        }
        @media screen and (min-width: 600px) {
            grid-template-rows: unset;
            grid-template-columns: 1fr 1fr 1fr;
            .content {
                grid-column-start: unset;
                grid-column-end: unset;
            }
            .image-left {
                order: -1;
            }
            .image-right {
                order: 1;
            }
        }
    }

    .ingredient-percent {
        display: inline-block;
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 50%;
        font-weight: bold;
        margin-bottom: 1rem;
        min-width: 50px;
        text-align: center;
    }

    .ingredient-icon {
        display: block;
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }

    .ingredient h4 {
        color: #333;
        margin: 0.5rem 0;
        font-size: 1.1rem;
    }

    .ingredient p {
        color: #666;
        font-size: 0.9rem;
        margin: 0;
        max-width: none;
    }
</style>
